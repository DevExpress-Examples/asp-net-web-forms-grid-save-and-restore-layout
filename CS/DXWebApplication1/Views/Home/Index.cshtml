<script type="text/javascript">
    function OnInit(s, e) {
        TrackLayout(s.cpClientLayout);
    }
    function OnEndCallback(s, e) {
        TrackLayout(s.cpClientLayout);
    }
    function TrackLayout(layout) {
        if (!lb.FindItemByValue(layout))
            lb.AddItem(layout);
        lb.SetValue(layout);
    }
    function OnSelectedIndexChanged(s, e) {
        gv.PerformCallback({ layoutToApply : s.GetValue() });
    }
</script>

@Html.DevExpress().ListBox(settings => {
    settings.Name = "lb";
    settings.Width = 400px;
    settings.Properties.EnableClientSideAPI = true;
    settings.Properties.ClientSideEvents.SelectedIndexChanged = "OnSelectedIndexChanged";
}).GetHtml()

@Html.Action("GridViewPartial")
